"use strict";(self.webpackChunkreact_notes_app=self.webpackChunkreact_notes_app||[]).push([[368],{9425:function(e,n,t){t.d(n,{B:function(){return i}});var r=t(5146),s=t(2385),a=t(184),i=function(e){var n=e.title;return(0,a.jsxs)("p",{className:s.Z.errorMessage,children:[(0,a.jsx)(r.Z,{}),n]})}},7937:function(e,n,t){t.d(n,{X:function(){return i}});var r="Heading_heading__zCqcD",s="Heading_paddingBottom__Vh+55",a=t(184),i=function(e){var n=e.title,t=e.children,i=e.paddingBottom;return(0,a.jsxs)("h1",{className:"".concat(r," ").concat(i?s:""),children:[n,t]})}},4099:function(e,n,t){t.d(n,{k:function(){return a}});t(2791);var r=t(610),s=t(184),a=function(e){var n=e.title,t=e.type,a=e.disabled,i=e.onClick;return(0,s.jsx)("button",{onClick:i,className:r.Z.secondaryButton,disabled:a,type:t,children:n})}},716:function(e,n,t){t.d(n,{o:function(){return r}});var r={hidden:{opacity:0,x:-200,y:0},enter:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:-200}}},1368:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(9780),s=t(1881),a=t(5156),i=t(716),o=t(1413),l=t(4165),c=t(5861),d=t(885),u=t(2791),p=t(8788),m=t(1720),h=t(3811),x={profileWrapper:"UserProfile_profileWrapper__O+zrY",profileModules:"UserProfile_profileModules__N6nFZ",profileHeader:"UserProfile_profileHeader__USYX8",image:"UserProfile_image__jk7S3",welcomeHeading:"UserProfile_welcomeHeading__2tZB5",profileInfo:"UserProfile_profileInfo__B2vGP",optionsContent:"UserProfile_optionsContent__5IXP+",managmentWrapper:"UserProfile_managmentWrapper__+YXRI",buttons:"UserProfile_buttons__Crqls"},f=t(7937),_=t(4099),j=t(4906),g=t(7689),v=t(1087),w=t(975),b=t(5987),N=t(4293),Z=t(166),k=t(6015),y=t(4164),C="TabPanel_tabPanelWrapper__frtBN",P="TabPanel_form__TIeff",S="TabPanel_fieldset__s8BKq",B="TabPanel_passwordInput__h9lsu",F="TabPanel_passwordToggleButton__r-SET",T=t(9425),U=t(1134),A=t(8570),L=t(361),I=document.getElementById("progress-bar-root"),W=t(184),H=function(){var e=(0,u.useState)(!0),n=(0,d.Z)(e,2),t=n[0],r=n[1],s=(0,u.useState)(!0),a=(0,d.Z)(s,2),i=a[0],m=a[1],h=(0,u.useState)(!1),x=(0,d.Z)(h,2),f=x[0],_=x[1],v=(0,u.useContext)(p.V),w=v.userData,b=v.logout,N=v.token,Z=v.update,k=(0,g.s0)(),C=(0,U.cI)(),H=C.register,q=C.handleSubmit,M=C.formState.errors,X=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),t={password:n.newPassword},e.prev=2,e.next=5,fetch(L.al,{method:"POST",body:JSON.stringify((0,o.Z)((0,o.Z)({},t),{},{idToken:N,returnSecureToken:!1})),headers:{"Content-type":"application/json"}});case 5:e.sent.ok&&(Z(w.id,t),b(),k("/login"),_(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:_(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)(W.Fragment,{children:[y.createPortal(f&&(0,W.jsx)(A.k,{}),I),(0,W.jsxs)("form",{onSubmit:q(X),className:P,children:[(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("label",{htmlFor:"password",children:"Actual password"}),(0,W.jsxs)("div",{className:B,children:[(0,W.jsx)("input",(0,o.Z)({autoComplete:"off",id:"password",placeholder:"Actual password",type:t?"password":" text"},H("password",{required:!0,validate:function(e){return e===w.password}}))),(0,W.jsxs)("button",{onClick:function(){return r((function(e){return!e}))},type:"button",className:F,children:[t?"Show":"Hide"," password"]})]}),M.password?(0,W.jsx)(T.B,{title:"Actual password is invalid"}):null]}),(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("label",{htmlFor:"newPassword",children:"New password"}),(0,W.jsxs)("div",{className:B,children:[(0,W.jsx)("input",(0,o.Z)({autoComplete:"off",id:"newPassword",placeholder:"New password",type:i?"password":" text"},H("newPassword",{required:!0,minLength:8,maxLength:25}))),(0,W.jsxs)("button",{onClick:function(){return m((function(e){return!e}))},type:"button",className:F,children:[i?"Show":"Hide"," password"]})]}),M.newPassword?(0,W.jsx)(T.B,{title:"New password is invalid"}):null]}),(0,W.jsx)(j.c,{type:"submit",title:"Change password"})]})]})},q=function(){var e=(0,u.useContext)(p.V),n=e.userData,t=e.update,r=(0,u.useState)(!1),s=(0,d.Z)(r,2),a=s[0],i=s[1],m=(0,g.s0)(),h=(0,U.cI)(),x=h.register,f=h.handleSubmit,_=h.formState.errors,v=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(r){var s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),s=(0,o.Z)((0,o.Z)({},n),{},{name:r.name,surname:r.surname,nick:r.nick});try{t(n.id,s)}catch(a){console.log(a)}setTimeout((function(){i(!1),m(0)}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)(W.Fragment,{children:[y.createPortal(a&&(0,W.jsx)(A.k,{}),I),(0,W.jsxs)("form",{onSubmit:f(v),className:P,children:[(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("label",{htmlFor:"Name",children:"Your name"}),(0,W.jsx)("div",{className:B,children:(0,W.jsx)("input",(0,o.Z)({autoComplete:"off",id:"name",defaultValue:n.name,placeholder:"New name",type:"text"},x("name",{required:!0,minLength:2,maxLength:20})))}),_.name?(0,W.jsx)(T.B,{title:"Name is invalid"}):null]}),(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("label",{htmlFor:"Name",children:"Your surname"}),(0,W.jsx)("div",{className:B,children:(0,W.jsx)("input",(0,o.Z)({autoComplete:"off",id:"surname",defaultValue:n.surname,placeholder:"New surname",type:"text"},x("surname",{required:!0,minLength:2,maxLength:20})))}),_.surname?(0,W.jsx)(T.B,{title:"Surname is invalid"}):null]}),(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("label",{htmlFor:"Name",children:"Your nickname"}),(0,W.jsx)("div",{className:B,children:(0,W.jsx)("input",(0,o.Z)({autoComplete:"off",id:"nick",defaultValue:n.nick,placeholder:"New nickname",type:"text"},x("nick",{required:!0,minLength:2,maxLength:20})))}),_.nick?(0,W.jsx)(T.B,{title:"Nickname is invalid"}):null]}),(0,W.jsx)(j.c,{type:"submit",title:"Update profile"})]})]})},M=["children","value","index"],X=function(){var e=(0,u.useState)(0),n=(0,d.Z)(e,2),t=n[0],r=n[1],s=function(e){var n=e.children,t=e.value,r=e.index,s=(0,b.Z)(e,M);return(0,W.jsx)("div",(0,o.Z)((0,o.Z)({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},s),{},{children:t===r&&(0,W.jsx)(k.Z,{sx:{marginTop:"2rem"},children:n})}))},a=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}};return(0,W.jsxs)("div",{className:C,children:[(0,W.jsxs)(N.Z,{className:C,value:t,onChange:function(e,n){r(n)},"aria-label":"basic tabs example",children:[(0,W.jsx)(Z.Z,(0,o.Z)({disableRipple:!0,sx:{color:"var(--white-color)"},label:"Change password"},a(0))),(0,W.jsx)(Z.Z,(0,o.Z)({disableRipple:!0,sx:{color:"var(--white-color)"},label:"Edit user profile"},a(1)))]}),(0,W.jsx)(s,{value:t,index:0,children:(0,W.jsx)(H,{})}),(0,W.jsx)(s,{value:t,index:1,children:(0,W.jsx)(q,{})})]})},D=t(4453),E=t(6808),V=t(8830),Y=function(){var e=(0,u.useContext)(p.V),n=e.userData,t=e.logout,r=e.update,s=e.deleteData,a=(0,u.useState)(),i=(0,d.Z)(a,2),b=i[0],N=i[1],Z=(0,u.useState)(!1),k=(0,d.Z)(Z,2),y=k[0],C=k[1],P=(0,u.useState)(""),S=(0,d.Z)(P,2),B=S[0],F=S[1],T=(0,g.s0)(),U=(0,D.iH)(E.t,"".concat(n.email,"/profile")),L=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=10;break}return C(!0),e.prev=2,e.next=5,(0,D.KV)(U,b).then((function(){C(!1),(0,V.h)("Avatar has been changed!")}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:setTimeout((function(){C(!1),T(0)}),1e3);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){(0,D.Jt)(U).then((function(e){F(e);var t=(0,o.Z)((0,o.Z)({},n),{},{image:B});r(n.id,t)}))}),[B,U,r,n]),(0,W.jsxs)("div",{className:x.profileWrapper,children:[y&&(0,W.jsx)(A.k,{}),(0,W.jsx)(f.X,{paddingBottom:!0,title:"Your Profile"}),(0,W.jsxs)("div",{className:x.profileModules,children:[(0,W.jsxs)("div",{className:x.profileHeader,children:[(0,W.jsxs)("div",{className:x.image,children:[(0,W.jsx)("img",{src:n.image,alt:"userProfile"}),(0,W.jsx)(w.Z,{arrow:!0,title:"Change photo",placement:"right",children:(0,W.jsxs)(h.Z,{size:"large",color:"primary","aria-label":"upload picture",component:"label",children:[(0,W.jsx)("input",{onChange:function(e){return N(e.target.files[0])},hidden:!0,accept:"image/*",type:"file"}),(0,W.jsx)(m.Z,{})]})})]}),b?(0,W.jsx)(j.c,{title:"Upload",onClick:L}):null,(0,W.jsxs)("div",{className:x.welcomeHeading,children:[(0,W.jsxs)("h2",{children:[n.name," ",n.surname]}),(0,W.jsxs)("p",{children:["@",n.nick]})]})]}),(0,W.jsxs)("div",{className:x.profileInfo,children:[(0,W.jsxs)("div",{children:[(0,W.jsx)(f.X,{paddingBottom:!0,title:"Profile information"}),(0,W.jsxs)("ul",{children:[(0,W.jsx)("li",{children:(0,W.jsxs)("div",{children:[(0,W.jsx)("h3",{children:"Email"}),n.email]})}),(0,W.jsx)("li",{children:(0,W.jsxs)("div",{children:[(0,W.jsx)("h3",{children:"Name"}),n.name," ",n.surname]})}),(0,W.jsx)("li",{children:(0,W.jsxs)("div",{children:[(0,W.jsx)("h3",{children:"Created at"}),n.created]})}),(0,W.jsx)("li",{children:(0,W.jsxs)("div",{children:[(0,W.jsx)("h3",{children:"Last login"}),n.lastLogin]})})]})]}),(0,W.jsxs)("div",{className:x.optionsContent,children:[(0,W.jsx)(f.X,{paddingBottom:!0,title:"Profile settings"}),(0,W.jsx)("div",{className:x.content,children:(0,W.jsx)(X,{})})]}),(0,W.jsxs)("div",{className:x.managmentWrapper,children:[(0,W.jsx)(f.X,{paddingBottom:!0,title:"Account managment"}),(0,W.jsxs)("div",{className:x.buttons,children:[(0,W.jsx)(v.rU,{to:"/login",children:(0,W.jsx)(_.k,{onClick:function(){return s(n.id)},title:"Delete account"})}),(0,W.jsx)(v.rU,{to:"/login",children:(0,W.jsx)(j.c,{onClick:t,title:"Logout"})})]})]})]})]})]})},z=function(){return(0,W.jsx)(s.E.div,{variants:i.o,initial:"hidden",animate:"enter",exit:"exit",transition:{type:"linear"},className:r.Z.mainWrapper,children:(0,W.jsx)(a.i,{children:(0,W.jsx)(Y,{})})})}},2385:function(e,n){n.Z={authForm:"AuthForm_authForm__6PARk",form:"AuthForm_form__qxaDd",rowFormControl:"AuthForm_rowFormControl__0UbWb",formControl:"AuthForm_formControl__KcrP6",passwordInput:"AuthForm_passwordInput__mi2CR",passwordToggleButton:"AuthForm_passwordToggleButton__HwwQ2",errorMessage:"AuthForm_errorMessage__UOutx",loginLink:"AuthForm_loginLink__Ejzzz"}},9780:function(e,n){n.Z={notesModules:"Notes_notesModules__Dv1jQ",header:"Notes_header__EoysZ",heading:"Notes_heading__Q-NwA",buttons:"Notes_buttons__TZOMa",notesLength:"Notes_notesLength__9Z-gT",list:"Notes_list__XZ4Ok",mainWrapper:"Notes_mainWrapper__pov5v",emptyWrapper:"Notes_emptyWrapper__902nR",empty:"Notes_empty__2Iy24"}}}]);
//# sourceMappingURL=368.ffb4f603.chunk.js.map